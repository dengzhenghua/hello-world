#  舆情预警

[TOC]邓正华

 
### 1.1 舆情预警显示 

| | |
| - | - |
| url | [/earlyWarning/findEarlyWarningsForPage](/earlyWarning/findEarlyWarningsForPage) | 
| method | POST | 

#### 参数

| name | type | mandatory | 描述 | 取值范围 |
| - | - | - | - | - |
emotion | long | N | 情绪 | 1正面,-1负面,0,中性 |<br />
sensitive | long | N | 敏感 | 1是,0,否 |
hot | long | N | 热门 | 1是,0,否  |
publishDateStart | date | N | 预警发布开始时间  | - |<br />
publishDateEnd | date | N | 预警发布截至时间 | - |

#### 分页参数

| name | 描述 |
| :-: | :-: | :-: |
| page | 当前页 |
| total| 总的页数 |
| list_rows| 每页数量 |
| totalCount | 总的记录数（查出来的总条数 ）|

#### 返回值
| name | type | 描述 |
| :-: | :-: | :-: |
| page | long | 每页数 |
| total | long | 总页数|
| records | long | 总条数 |
| rows | object |  |
 

```javascript
{
    "success": true,
    "data": {
        "page": 1,
        "total": 1,
        "records": 2,
        "rows": [
            {
                "id": 43,
                "createUser": null,
                "createDate": "2017-07-18 16:31:07",
                "updateUser": null,
                "updateDate": "2017-07-18 16:31:07",
                "sortField": null,
                "order": null,
                "tqmobile": null,
                "title": "法国",
                "delState": 0,
                "emotion": 2,
                "sensitive": 1,
                "hot": 1,
                "abolishState": 0,
                "dataSources": 1,
                "contentText": "的说法是的发生的发生的",
                "programmeId": 1,
                "popularFeelingClassifyId": 1,
                "commentNum": 0
            },
            {
                "id": 42,
                "createUser": null,
                "createDate": "2017-07-18 16:27:45",
                "updateUser": null,
                "updateDate": "2017-07-18 16:27:45",
                "sortField": null,
                "order": null,
                "tqmobile": null,
                "title": "日本",
                "delState": 0,
                "emotion": 2,
                "sensitive": 1,
                "hot": 1,
                "abolishState": 0,
                "dataSources": 1,
                "contentText": "的说法是的发生的发生的",
                "programmeId": 1,
                "popularFeelingClassifyId": 1,
                "commentNum": 0
            }
        ]
    },
    "errorCode": "",
    "message": ""
}
```
### 1.2 舆情预警-新增 

| | |
| - | - |
| url | [/earlyWarning/addEarlyWarning](/earlyWarning/addEarlyWarning) | 
| method | POST | 

#### 参数

| name | type | mandatory | 描述 | 取值范围 |
| - | - | - | - | - ||<br />
title | String | Y | 标题 | - |<br />
emotion | long | Y| 情绪 |  1正面,-1负面,0,中性 |
sensitive | long | Y | 敏感 |  1是,0,否 |<br />
hot | long | Y| 热门 |  1是,0,否 |
contentText | String | Y | 内容 | - |<br />
programmeId | long | Y | 所属方案id | - |<br />
popularFeelingClassifyId | long | Y| 所属舆情分类id | -|
dataSources | long | Y | 数据来源 | 1微博,2客户端,3网站,4外媒,5平台（内网） |<br />
  
 


#### 返回值

 

| name | type | 描述 |
| :-: | :-: | :-: |
emotion | long  | 情绪 | - |<br />
contentText | string |  内容 | - |
 programmeId | long  | 所属方案id | - |<br />
title | long  | 标题 | - |
 | createDate | date | 创建时间 |
| updateDate | date | 修改时间 |
| popularFeelingClassifyId | long | 舆情分类id |

```javascript
{
    "success": true,
    "data": {
        "id": 43,
        "createUser": "admin",
        "createDate": "2017-07-18 16:31:07",
        "updateUser": "admin",
        "updateDate": "2017-07-18 16:31:07",
        "sortField": null,
        "order": null,
        "tqmobile": null,
        "title": "法国",
        "delState": null,
        "emotion": 2,
        "sensitive": 1,
        "hot": 1,
        "abolishState": null,
        "dataSources": 1,
        "contentText": "的说法是的发生的发生的",
        "programmeId": 1,
        "popularFeelingClassifyId": 1,
        "commentNum": null
    },
    "errorCode": "",
    "message": ""
}
```
### 1.3 舆情预警-修改 

| | |
| - | - |
| url | [/earlyWarning/updateEarlyWarning](/earlyWarning/updateEarlyWarning) | 
| method | POST | 

#### 参数

| name | type | mandatory | 描述 | 取值范围 |
| - | - | - | - | - ||<br />
title | String | Y | 标题 | - |<br />
emotion | long | Y| 情绪 |  1正面,-1负面,0,中性 |
sensitive | long | Y | 敏感 |  1是,0,否 |<br />
hot | long | Y| 热门 |  1是,0,否 |
contentText | String | Y | 内容 | - |<br />
programmeId | long | Y | 所属方案id | - |<br />
popularFeelingClassifyId | long | Y| 所属舆情分类id | -|
 dataSources | long | Y | 数据来源 | 1微博,2客户端,3网站,4外媒,5平台（内网） |<br />
id |long|id| - |

#### 返回值
| name | type | 描述 |
| :-: | :-: | :-: |
emotion | long  | 情绪 | - |<br />
contentText | string |  内容 | - |
 programmeId | long  | 所属方案id | - |<br />
title | long  | 标题 | - |
 | createDate | date | 创建时间 |
| updateDate | date | 修改时间 |
| popularFeelingClassifyId | long | 舆情分类id |

 

```javascript
{
    "success": true,
    "data": {
        "id": null,
        "createUser": null,
        "createDate": null,
        "updateUser": "admin",
        "updateDate": "2017-07-18 16:29:48",
        "sortField": null,
        "order": null,
        "tqmobile": null,
        "title": "美国",
        "delState": null,
        "emotion": 2,
        "sensitive": 1,
        "hot": 1,
        "abolishState": null,
        "dataSources": 1,
        "contentText": "斯蒂芬是否收到",
        "programmeId": 1,
        "popularFeelingClassifyId": 1,
        "commentNum": null
    },
    "errorCode": "",
    "message": ""
}
```
### 1.4 舆情预警-删除 

| | |
| - | - |
| url | [/earlyWarning/deleteEarlyWarning](/earlyWarning/deleteEarlyWarning) | 
| method | get | 

#### 参数

| name | type | mandatory | 描述 | 取值范围 |
| - | - | - | - | - |
| id | long | Y | id | - |


#### 返回值 


| name | type | 描述 |
| :-: | :-: | :-: |
| success | boolean | 成功与否 |
| errorCode | string | 错误编码 |
| message | string | 错误信息 |

```javascript
{
    "success":true,
    "data":null,
    "errorCode":"",
    "message":""
}
```
### 1.5 根据id获取舆情预警

| | |
| - | - |
| url | [/earlyWarning/getEarlyWarningById](/earlyWarning/getEarlyWarningById) | 
| method | get | 

#### 参数

| name | type | mandatory | 描述 | 取值范围 |
| - | - | - | - | - |
| id | long | Y | id | - |


#### 返回值 


| name | type | 描述 |
| :-: | :-: | :-: |
| emotion | long | 情绪(0中性,-1负面,1正面) |
| sensitive | long | 敏感(1是,0,否) |
| hot | long | 热门(1是,0,否) |
| contentText | string | 内容 |
| programmeId | long | 方案id |
| popularFeelingClassifyId | long | 舆情分类id |
| commentNum | long | 评论数 |
| title | string | 标题 |
 


```javascript
{
    "success": true,
    "data": {
        "id": 42,
        "createUser": null,
        "createDate": "2017-07-18 16:27:45",
        "updateUser": null,
        "updateDate": "2017-07-18 16:27:45",
        "sortField": null,
        "order": null,
        "tqmobile": null,
        "title": "日本",
        "delState": 0,
        "emotion": 2,
        "sensitive": 1,
        "hot": 1,
        "abolishState": 0,
        "dataSources": 1,
        "contentText": "的说法是的发生的发生的",
        "programmeId": 1,
        "popularFeelingClassifyId": 1,
        "commentNum": 0
    },
    "errorCode": "",
    "message": ""
}
```